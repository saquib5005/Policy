package com.example.policy.entity;

import lombok.Data;
import jakarta.persistence.*;

import java.math.BigDecimal;
import java.time.LocalDate;

@Data
@Entity
@Table(name = "claims")
public class Claim {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long claimId;

    private Long policyId;  // Link to user's issued policy (from policies table)

    private String claimType;  // e.g., Death, Maturity, Accident

    private BigDecimal claimAmount;

    private LocalDate claimDate;  // Auto set in service

    private String status = "Pending";  // Pending, Approved, Rejected

    private String remarks;  // Reason of Claim
}

-------

<changeSet id="002-plans" author="you">
<createTable tableName="plans">
<column name="plan_id" type="BIGINT" autoIncrement="true">
<constraints primaryKey="true" nullable="false"/>
</column>
<column name="plan_name" type="VARCHAR(100)"/>
<column name="plan_type" type="VARCHAR(50)"/>
<column name="coverage_limit" type="DECIMAL(15,2)"/>
</createTable>
</changeSet>

----------
<changeSet id="003-plans-data" author="you">
<insert tableName="plans">
<column name="plan_name" value="Life Secure Plus"/>
<column name="plan_type" value="Life Insurance"/>
<column name="coverage_limit" value="1500000"/>
</insert>
<insert tableName="plans">
<column name="plan_name" value="Health Protect"/>
<column name="plan_type" value="Health Insurance"/>
<column name="coverage_limit" value="500000"/>
</insert>
<insert tableName="plans">
<column name="plan_name" value="Property Guard"/>
<column name="plan_type" value="Property Insurance"/>
<column name="coverage_limit" value="1000000"/>
</insert>
<insert tableName="plans">
<column name="plan_name" value="Motor Safe"/>
<column name="plan_type" value="Motor Insurance"/>
<column name="coverage_limit" value="750000"/>
</insert>
<insert tableName="plans">
<column name="plan_name" value="Family Life Cover"/>
<column name="plan_type" value="Life Insurance"/>
<column name="coverage_limit" value="2000000"/>
</insert>
</changeSet>
